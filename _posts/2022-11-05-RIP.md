---
title: RIP协议
tags: 计算机网络
mathjax: true
mode: immersive
comment: true
pageview: true
key: A2300
header:
  theme: dark
article_header:
  type: cover
  image:
    src: //photos/mounts.jpg





---


* content
{:toc}




# RIP



## RIP

>  应用层协议，使用UDP传送数据，520端口

### 规定

1. 网络中每个路由器都要维护从自身到每个目的网络的距离纪录。
2. 路由器到直连网络的距离为1。
3. 允许一条路径最多包含十五个路由器（距离为16表示网络不可达）。
4. 任意两个RIP路由器之间每30s广播一次RIP路由信息。
5. 不支持子网掩码的RIP广播。

### 特点

1. 仅和相邻路由器交换信息。
2. 路由器交换的信息为自己完整的路由表。
3. 按固定时间交换路由信息。

#### 缺点

1. 限制了网络规模
2. 路由器间交换完整地路由表，网络规模越大，开销越大
3. 网络出现问题，会出现慢收敛情况

### 距离向量算法

每个路由表项目包含三个关键数据|目的网络N|距离d|下一跳地址X|

对相邻的路由器发送过来的RIP报文：

1. 地址为X的相邻路由器发送过来的RIP报文，先修改报文中的所有项目，将下一条地址改为X，把所有距离字段+1。
2. 对修改后的每个项目：
   1. 原来路由表中没有目的网络N，将该项目添加到路由表中。
   2. 原来路由表中有目的网络N，且下一条地址为X，则替换本地路由表项目。
   3. 原来路由表中有目的网络N，且下一条地址不是X，若收到的项目中距离字段小于本地路由表到该网络的距离字段，则替换原来的表项。

3. 若超过180s没收到相邻路由器的更新路由表，将此相邻路由器标记位不可达。
4. 返回
